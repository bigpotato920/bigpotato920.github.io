<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>thinking in java 中interface讲解笔记 - bigpotato's blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://bigpotato920.github.io/java_interface.html">

        <meta name="author" content="bigpotato" />
        <meta name="keywords" content="java,interface" />
        <meta name="description" content="thinking in java 中对interface的讲解笔记" />

        <meta property="og:site_name" content="bigpotato's blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="thinking in java 中interface讲解笔记"/>
        <meta property="og:url" content="http://bigpotato920.github.io/java_interface.html"/>
        <meta property="og:description" content="thinking in java 中对interface的讲解笔记"/>
        <meta property="article:published_time" content="2014-02-16" />
            <meta property="article:section" content="java" />
            <meta property="article:tag" content="java" />
            <meta property="article:tag" content="interface" />
            <meta property="article:author" content="bigpotato" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://bigpotato920.github.io/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://bigpotato920.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://bigpotato920.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://bigpotato920.github.io/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://bigpotato920.github.io/" class="navbar-brand">
bigpotato's blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://bigpotato920.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://bigpotato920.github.io/java_interface.html"
                       rel="bookmark"
                       title="Permalink to thinking in java 中interface讲解笔记">
                        thinking in java 中interface讲解笔记
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-02-16T00:00:00+08:00"> Sun 16 February 2014</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="http://bigpotato920.github.io/tag/java.html">java</a>
        /
	<a href="http://bigpotato920.github.io/tag/interface.html">interface</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>Thinking in java 中interface讲解笔记</h2>
<blockquote>
<p>Interfaces and abstract classes provide more structured way to separate interface from implementation.</p>
</blockquote>
<p>在Java中提供了两种抽象类和接口机制给用户来抽象实现。</p>
<h3>抽象类</h3>
<p>抽象类要用 <strong>abstract</strong> 关键字修饰，类中可以存在抽象方法，这种方法只有声明，没有具体实现，如：</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">();</span></span>
</pre></div>


<p>你可以创建某个类A来继承抽象类，如果想创建A类的对象，在A类中必须实现所有抽象类中的抽象方法，否则类A也是一个抽象类，不能被实例化。抽象类的好处是可以给用户显示地提供对类的抽象，迫使用户去实现抽象方法，并在编译期进行检查。</p>
<h3>接口</h3>
<p>接口对抽象的限制更加严格，在接口中所有方法都是抽象方法，都只有一个声明，没有实现，实现接口的类必须实现接口中的所有方法。</p>
<blockquote>
<p>An Interface says,"All classes that implement this particular interfae will look like this."Thus any code that use a particular interface knows what methods might be called for that interface, and that's all.So the interface is used to establish a "protocol" between classes.</p>
</blockquote>
<p>接口和抽象类另一个不同点是类只能继承一个抽象类，但却可以实现多个接口，这点可以提供类似c++中多重继承的功能使得某个类可以转换成不同的父类型的类，但在语义上又更加合理。创建接口的时候用 <strong>interface</strong>关键字修饰，如果接口名字和所在文件同名，可以在inteface前加 <strong>public</strong> 修饰，如果不加public关键字修饰，那么接口是包访问权限，只能被同层包中其它类引用。接口中方法默认是用 <strong>public
</strong> 修饰的，所以在实现接口中的方法时一定要把方法声明为 <strong>public</strong>, 否则方法的默认访问权限是包访问权限，在Java中不允许在实现的时候降低了方法的访问权限。除了方法还可以有域，它们默认是被 <strong>static</strong> 和 <strong>final</strong> 修饰。</p>
<h3>通过继承扩展接口</h3>
<p>在Java中接口通过继承的方式来扩展现有的接口，如代码所示：</p>
<div class="highlight"><pre><span class="code-line"><span class="c1">// Extending an interface with inheritance.</span></span>
<span class="code-line"><span class="kd">interface</span> <span class="nc">Monster</span> <span class="o">{</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">menace</span><span class="o">();</span></span>
<span class="code-line"><span class="o">}</span></span>
<span class="code-line"><span class="kd">interface</span> <span class="nc">DangerousMonster</span> <span class="kd">extends</span> <span class="n">Monster</span> <span class="o">{</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">destroy</span><span class="o">();</span></span>
<span class="code-line"><span class="o">}</span></span>
<span class="code-line"><span class="kd">interface</span> <span class="nc">Lethal</span> <span class="o">{</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">kill</span><span class="o">();</span></span>
<span class="code-line"><span class="o">}</span></span>
<span class="code-line"><span class="kd">interface</span> <span class="nc">Vampire</span> <span class="kd">extends</span> <span class="n">DangerousMonster</span><span class="o">,</span> <span class="n">Lethal</span> <span class="o">{</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">drinkBlood</span><span class="o">();</span></span>
<span class="code-line"><span class="o">}</span></span>
</pre></div>


<p>并且这中接口继承允许继承 <strong>多个</strong> 现有接口。
在扩展接口的时候，多个接口中可能存在同名函数，完全相同的函数不会出现问题，但是当函数签名相同但返回值不同时就会造成命名冲突。</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">interface</span> <span class="nc">I1</span> <span class="o">{</span><span class="kt">void</span> <span class="nf">f</span><span class="o">();}</span></span>
<span class="code-line"><span class="kd">interface</span> <span class="nc">I2</span> <span class="o">{</span><span class="kt">int</span> <span class="nf">f</span><span class="o">();}</span></span>
<span class="code-line"><span class="kd">interface</span> <span class="nc">I3</span> <span class="kd">extends</span> <span class="n">I1</span><span class="o">,</span> <span class="n">I2</span> <span class="o">{}</span></span>
</pre></div>


<p>当接口I3要扩展I1和I2时两个函数f()完全相同造成命名冲突。这点在Java的编程规范中有说明：</p>
<blockquote>
<p>Two methods have the same signature if they have the same name and argument types.</p>
</blockquote>
<h3>类转换成接口</h3>
<blockquote>
<p>A common use for interfaces is the aftermentioned Strategy design pattern. You write a method that performs certain operations, and that method takes an interface that you also specify. You’re basically saying, "You can use my method with any object you like, as long as your object conforms to my interface." This makes your method more flexible, general and reusable.</p>
</blockquote>
<p>即我们可以向任何实现了特定接口的类传递消息，或者说我们可以把任意实现了特定接口的对象传递给某个方法。</p>
<h3>接口变量初始化</h3>
<p>接口中的变量默认为static final修饰，必须进行显示初始化。</p>
<h3>类和接的选择</h3>
<blockquote>
<p>An appropriate guideline is to prefer classes to interfaces. Start with classes, and if it becomes clear that interfaces are necessary, then refactor. Interfaces are a great tool, but they can easily be overused.</p>
</blockquote>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'bigpotato4future'; // required: replace example with your forum shortname

                    var disqus_identifier = 'java_interface';
                var disqus_url = 'http://bigpotato920.github.io/java_interface.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/2016_plan.html">
                            2016学习计划
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/java_serialization.html">
                            fastjson序列化java对象
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/spring_unittest.html">
                            Spring中进行单元测试
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/create_and_destroy_objects.html">
                            Effective Java笔记 -- Creating and Destroying Objects
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/tree_traversal.html">
                            二叉树的遍历问题总结
                        </a>
                    </li>
                </ul>
            </li>

            <li class="list-group-item"><a href="http://bigpotato920.github.io/"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/category/algorithm.html">
                            <i class="fa fa-folder-open fa-lg"></i> algorithm
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/category/java.html">
                            <i class="fa fa-folder-open fa-lg"></i> java
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/category/tools.html">
                            <i class="fa fa-folder-open fa-lg"></i> tools
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://bigpotato920.github.io/category/za-tan.html">
                            <i class="fa fa-folder-open fa-lg"></i> 杂谈
                        </a>
                    </li>
                </ul>
            </li>



    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="https://oj.leetcode.com/" target="_blank">
                Leetcode
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://python.org/" target="_blank">
                Python.org
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.archlinux.org/" target="_blank">
                Arch Linux
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://wowubuntu.com/markdown/" target="_blank">
                Markdown语法说明
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 bigpotato
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://bigpotato920.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://bigpotato920.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://bigpotato920.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'bigpotato4future'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>